extends ../layout



block view
    div(ng-if='view.dialog.overlay=="material"', ng-controller='ContentMaterialDialogCtrl', ng-init='state=view.dialog.state')
        .row: .col-12.dialog--head.info(ng-class="{'primary':'none'==state}")
            i.icon-share-alt
            span  Сервер

        .row: .col-12.dialog--body

            .row: .col-12.col-sm-12.col-lg-10.col-offset-1
                form(name='MaterialForm')

                    fieldset
                        input.input(placeholder='Название материала', type='text', required, ng-model='material.titleRu')
                        input.input(placeholder='Material name', type='text', required, ng-model='material.titleEn')
                        input.input(placeholder='Картинка', type='text', required, ng-model='material.imageUrl')
                        img(ng-src='{{material.imageUrl}}')

                    fieldset
                        input.input.input-auto(placeholder='Идентификатор в игре', type='text', required, ng-model='material.id', ng-pattern='/^([0-9]+)(:([0-9]+))?$/')
                        input.input.input-auto(placeholder='Множитель зачарования', type='text', ng-model='material.enchantability', ng-pattern='/^([0-9]+)$/')


                    fieldset(ng-if='action=="create"')
                        button.btn.btn-primary.btn-block(type='submit', ng-click='create()', ng-disabled='!MaterialForm.$valid')
                            span Добавить материал

                    fieldset(ng-if='action=="update"'): .row
                        .col-10
                            button.btn.btn-primary.btn-block(type='submit', ng-click='update()', ng-disabled='!MaterialForm.$valid')
                                span Обновить материал
                        .col-2
                            button.btn.btn-link.btn-block.text-left(ng-click='delete()')
                                span Удалить
