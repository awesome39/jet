block b-page--head
    a(href='#/content') Управление содержимым



extends ../layout



block b-page--main

    .section--main--bar: .row
        .col-10
            input.input(placeholder='Поиск материалов', ng-model='materialSearch', required)
            a.input-action(ng-show="!!materialSearch", ng-click="searchClear()"): i.icon-remove
        .col-2
            a.btn.btn-primary(ng-click='showDetails(null)')= 'Создать'



    style
    :less
        .item--title {
            white-space: initial;
        }
        .item--image {
            margin: -8px -14px;
            padding: 1px;
            background: #eee;
            border: 1px solid #ccc;
            box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        }

    table.table
        thead
            tr

                th.t(colspan=3)
                    .sortable: .sortable-cell Материал

                th.t
                    button.btn.btn-info(ng-click='reload()')
                        i.icon-refresh

        tbody
            tr(ng-repeat='material in materials | filter:materialSearch')

                td.t.col-flex
                    a.col.item--title {{material.titleRu}}. {{material.titleEn}}
                td.t
                    a.col.col-right {{material.id}}
                td.t
                    a.col: img.item--image(ng-src='{{material.imageUrl}}')

                td.t
                    a.col.btn.btn-success(ng-click='showDetails(material)')
                        i.icon-wrench
