extends ../layout



block b-page--head
    a(href='#/content') Управление содержимым



block b-page--main

    .section--main--bar: .row
        .col-10
            input.input(placeholder='Поиск материалов', ng-model='enchantmentSearch', required)
            a.input-action(ng-show="!!materialSearch", ng-click="searchClear()"): i.icon-remove
        .col-2
            a.btn.btn-primary(ng-click='showDetails(null)')= 'Создать'

    table.table
        thead
            tr

                th.t.col-flex(colspan=2)
                    .sortable: .sortable-cell Чары

                th.t
                    .col: button.btn.btn-info(ng-click='reload()')
                        i.icon-refresh

        tbody
            tr(ng-repeat='enchantment in enchantments | filter:enchantmentSearch')

                td.t
                    .col {{enchantment.titleRu}}. {{enchantment.titleEn}} ({{enchantment.levelMin}}—{{enchantment.levelMax}})
                td.t
                    .col.col-right {{enchantment.id}}

                td.t
                    a(ng-click='showDetails(enchantment)')
                        button.btn.btn-success
                            i.icon-wrench
